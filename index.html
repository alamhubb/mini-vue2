<!DOCTYPE html>
<html>
<head>
  <title>简版vue2.0</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
</head>
<body>
<div id="app">
  <h1>差值表达式</h1>
  <h3>{{ items }}</h3>
  <!--<h3>{{ msg }}</h3>
  <h3>{{ count }}</h3>
  <h1>v-text</h1>
  <div v-text="msg"></div>
  <h1>v-model</h1>
  <input type="text" v-model="msg">
  <input type="text" v-model="count">-->
</div>

<script type="module">
  import QVue from "./vue/QVue.js";

  window.app = new QVue({
    el: '#app',
    data: {
      msg: 'Hello Vue',
      count: 20,
      items: ['a', 'b', 'c']
    }
  })

  window.b = {}

  defineReactive(b, 'a', 'dudu')

  function defineReactive(data, key, val) {
    Object.defineProperty(data, key, {
      enumerable: true,
      configurable: true,
      get: function () {
        return val
      },
      set: function (newVal) {
        if (val === newVal) {
          return
        }
        val = newVal
      }
    })
  }
  var obj = { foo: "test" };
  console.log(b)
  console.log(JSON.stringify(
    Object.getOwnPropertyDescriptor( b, "a" )
  ))
  console.log(JSON.stringify(
    Object.getOwnPropertyDescriptor( obj, "foo" )
  ))
</script>
</body>
</html>
